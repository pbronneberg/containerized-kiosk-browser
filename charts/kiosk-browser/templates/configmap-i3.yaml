apiVersion: v1
kind: ConfigMap
metadata:
  name: i3-config
  namespace: {{ include "kiosk-browser.name" . }}
data:
  i3.config: |
    # i3 config file (v4)
    #
    # Please see https://i3wm.org/docs/userguide.html for a complete reference!
    #

    # Font for window titles. Will also be used by the bar unless a different font
    # is used in the bar {} block below.
    font pango:monospace 8

    # Start the CEF browser automatically
    exec --no-startup-id /opt/app/cefsimple

    # Disable clicks on titlebars
    bindsym button2 nop

    # If new windows do happen, make them tabbed
    # but by disabling clicks on titlebars they cannot be switched between
    workspace_layout tabbed

    ## disable borders around windows
    new_window none
    new_float none

    # Hide the info bar
    bar {
       mode invisible
    }

    ## Minimal bindings for development

    # Note: only defined bindings exist, no other bindings are automatically created

    # reload the configuration file
    bindsym Mod1+Shift+c reload
    # restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
    bindsym Mod1+Shift+r restart
    # exit i3 (logs you out of your X session)
    bindsym Mod1+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"